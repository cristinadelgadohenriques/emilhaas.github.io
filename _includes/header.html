
  <title>{% if page.title %}{{ page.title }} | {% elsif page.name %}{{ page.name }} | {% endif %}{{ site.title }}</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" /
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name="viewport" content="width=device-width">
	{% if page.description %}
	  <meta name="description" content="{{ page.description}}" />
	{% endif %}
{% feed_meta %}
{% seo %}


  <link href='{{ site.url }}{{ site.baseurl }}{{ page.url | replace:'index.html', '' }}' rel='canonical'>
<link rel="shortcut icon" type="image/ico" href="/img/favicon.ico"/>


<!-- UIkit CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/css/uikit.min.css" />

<!-- UIkit JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/js/uikit.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/js/uikit-icons.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Gentium+Basic:ital,wght@0,400;1,400;1,700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://js.arcgis.com/3.31/esri/css/esri.css">
<script src="https://js.arcgis.com/3.31/"></script>



<script>
  require([
    "esri/Map",
    "esri/layers/GeoJSONLayer",
    "esri/views/MapView"
  ], function(Map, GeoJSONLayer, MapView) {
    // If GeoJSON files are not on the same domain as your website, a CORS enabled server
    // or a proxy is required.
    const url =
      "https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson";

    // Paste the url into a browser's address bar to download and view the attributes
    // in the GeoJSON file. These attributes include:
    // * mag - magnitude
    // * type - earthquake or other event such as nuclear test
    // * place - location of the event
    // * time - the time of the event
    // Use the Arcade Date() function to format time field into a human-readable format

    const template = {
      title: "Earthquake Info",
      content: "Magnitude {mag} {type} hit {place} on {time}",
      fieldInfos: [
        {
          fieldName: "time",
          format: {
            dateFormat: "short-date-short-time"
          }
        }
      ]
    };

    const renderer = {
      type: "simple",
      field: "mag",
      symbol: {
        type: "simple-marker",
        color: "orange",
        outline: {
          color: "white"
        }
      },
      visualVariables: [
        {
          type: "size",
          field: "mag",
          stops: [
            {
              value: 2.5,
              size: "4px"
            },
            {
              value: 8,
              size: "40px"
            }
          ]
        }
      ]
    };

    const geojsonLayer = new GeoJSONLayer({
      url: url,
      copyright: "USGS Earthquakes",
      popupTemplate: template,
      renderer: renderer //optional
    });

    const map = new Map({
      basemap: "dark-gray",
      layers: [geojsonLayer]
    });

    const view = new MapView({
      container: "map",
      center: [{{page.longitude}}, {{page.latitude}}],
      zoom: 3,
      map: map
    });
  });
</script>

<style>
  h1, h2, h3, h4, h5 {font-family: 'Gentium Basic', serif !important;}
  body, p, html, .intro {font-family: 'Gentium Basic', serif !important; }
  .heading {font-weight: 700;
    font-style: italic;}
</style>
